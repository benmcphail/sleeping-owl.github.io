<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
		    <title>Формы &ndash; SleepingOwl Admin</title>
	    <meta charset="utf-8"/>
    <meta name="description" content="Administrative interface builder for Laravel" />
    <meta name="author" content="Sleeping Owl">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../themes/daux-blue/css/daux-blue.css' rel='stylesheet' type='text/css'><link href='../themes/daux-blue/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
</head>
<body>
            <!-- Docs -->
                <div class="container-fluid fluid-height wrapper">
            <div class="navbar navbar-fixed-top hidden-print">
                <div class="container-fluid">
                    <a class="brand navbar-brand pull-left" href="/">SleepingOwl Admin</a>
                    <p class="navbar-text pull-right" style="visibility:hidden">Generated by <a href="http://daux.io">Daux.io</a></p>
                </div>
            </div>
            <div class="row columns content">
                <div class="left-column article-tree col-sm-3 hidden-print">
                    <!-- For Mobile -->
                    <div class="responsive-collapse">
                        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div id="sub-nav-collapse" class="sub-nav-collapse">
                        <!-- Navigation -->
                        <ul class="nav nav-list"><li><a href="../ru/Introduction.html">Введение</a></li><li><a href="#" class="aj-nav folder">С чего начать</a><ul class="nav nav-list"><li><a href="../ru/Getting_Started/Installation.html">Установка</a></li><li><a href="../ru/Getting_Started/Configuration.html">Конфигурация</a></li><li><a href="../ru/Getting_Started/Menu_Configuration.html">Конфигурация меню</a></li><li><a href="../ru/Getting_Started/Model_Configuration.html">Конфигурация модели</a></li><li><a href="../ru/Getting_Started/Routes_Configuration.html">Конфигурация роутов</a></li><li><a href="../ru/Getting_Started/Authentication.html">Авторизация</a></li><li><a href="../ru/Getting_Started/Localization.html">Локализация</a></li><li><a href="../ru/Getting_Started/Validation.html">Валидация</a></li></ul></li><li><a href="#" class="aj-nav folder">Команды</a><ul class="nav nav-list"><li><a href="../ru/Commands/Install.html">Установка</a></li><li><a href="../ru/Commands/Model_Configuration_Generation.html">Генерация конфигурации модели</a></li><li><a href="../ru/Commands/Administrators.html">Администраторы</a></li></ul></li><li><a href="../ru/Displays.html">Типы отображения данных</a></li><li><a href="../ru/Filters.html">Фильтры</a></li><li><a href="../ru/Columns.html">Столбцы</a></li><li><a href="../ru/Column_Filters.html">Фильтры столбцов</a></li><li class="active"><a href="../ru/Form.html">Формы</a></li><li><a href="../ru/Templates.html">Шаблоны</a></li><li><a href="../ru/License.html">Лицензия</a></li></ul>                                                    <div class="well well-sidebar">

                                <!-- Links -->
                                <i class="fa fa-fw fa-github"></i> <a href="https://github.com/sleeping-owl/admin/tree/development" target="_blank">GitHub Repo</a><br><i class="fa fa-fw fa-desktop"></i> <a href="http://sleepingowladmindemo2.cloudcontrolled.com" target="_blank">Live Demo</a><br>                                
                                <!-- Twitter -->
                                                            </div>
                                            </div>
                </div>
                <div class="right-column  content-area col-sm-9">
                    <div class="content-page">
                        <article>
                                                            <div class="page-header">
                                    <h1>Формы                                                                            </h1>
                                </div>
                            
                            <p>Форма может быть любым из <a href="Displays.html">поддерживаемых способов вывода списка</a>, формой с табами или самой формой. Вы можете комбинировать их по желанию.</p>
<pre><code class="language-php">..-&gt;createAndEdit(function ()
{
    $form = AdminForm::form();
    $form-&gt;items([
        // здесь описание элементов формы
    ]);
    return $form;
})</code></pre>
<h2>Форма с табами</h2>
<pre><code class="language-php">..-&gt;createAndEdit(function ()
{
    $form = AdminForm::tabbed();
    $form-&gt;items([
        'Main Tab Label' =&gt; [
            // здесь описание элементов формы
        ],
        'Second Tab Label' =&gt; [
            // здесь описание элементов формы
        ],
    ]);
    return $form;
})</code></pre>
<h2>Элементы формы</h2>
<p>Вы можете создавать элементы формы следующим кодом:</p>
<pre><code class="language-php">FormItem::{type}('{field name}', '{label}')</code></pre>
<h3>Поддерживаемые элементы формы</h3>
<ul>
<li><a href="#columns">columns</a></li>
<li><a href="#text">text</a></li>
<li><a href="#textaddon">textaddon</a></li>
<li><a href="#hidden">hidden</a></li>
<li><a href="#checkbox">checkbox</a></li>
<li><a href="#date">date</a></li>
<li><a href="#time">time</a></li>
<li><a href="#timestamp">timestamp</a></li>
<li><a href="#file">file</a></li>
<li><a href="#image">image</a></li>
<li><a href="#images">images</a></li>
<li><a href="#select">select</a></li>
<li><a href="#multiselect">multiselect</a></li>
<li><a href="#radio">radio</a></li>
<li><a href="#textarea">textarea</a></li>
<li><a href="#ckeditor">ckeditor</a></li>
<li><a href="#custom">custom</a></li>
<li><a href="#view">view</a></li>
</ul>
<h3>Валидация</h3>
<pre><code class="language-php">FormItem::text('title')-&gt;required()-&gt;unique()-&gt;validationRule('my-custom-rule')</code></pre>
<p>Подробнее смотрите раздел <a href="Getting_Started/Validation.html">валидация</a>.</p>
<h3>Значение по умолчанию</h3>
<p>Вы можете указать значение по умолчанию для элемента формы.</p>
<pre><code class="language-php">FormItem::text('title')-&gt;defaultValue('My new item title')</code></pre>
<h3>Регистрация собственного элемента формы</h3>
<p>Вы можете регистрировать собственные элементы формы в файле <code>bootstrap.php</code> в директории <code>bootstrapDirectory</code> (<em>по умолчанию <code>app/admin/bootstrap.php</code></em>).</p>
<pre><code class="language-php">FormItem::register('{type}', 'App\MyFormItem')</code></pre>
<p>Ваш класс должен расширять <code>SleepingOwl\Admin\FormItems\BaseFormItem</code> (если вам не нужно получание значения модели по названия) или <code>SleepingOwl\Admin\FormItems\NamedFormItem</code> (в противном случае).</p>
<h3>Добавление скриптов и стилей</h3>
<p>Вы можете добавить свои скрипты и стили на страницу, которая использует ваш элемент формы.</p>
<pre><code class="language-php">public function initialize()
{
    parent::initialize();

    AssetManager::addScript(asset('my.js'));
    AssetManager::addStyle(asset('my.css'));
}</code></pre>
<h3>Пример</h3>
<p>bootstrap.php</p>
<pre><code class="language-php">FormItem::register('myItem', 'Acme\MyItem')</code></pre>
<p>Acme/MyItem.php</p>
<pre><code class="language-php">use SleepingOwl\Admin\FormItems\NamedFormItem;

class MyItem extends NamedFormItem
{

    public function render()
    {
        $params = $this-&gt;getParams();
        // $params will contain 'name', 'label', 'value' and 'instance'
        return view('my-form-item-view, $params);
    }

}</code></pre>
<p>Использование в конфигурации модели</p>
<pre><code class="language-php">FormItem::myItem('field')-&gt;label('My Label');</code></pre>
<hr />
<p><a name="columns"></a></p>
<h1>Columns</h1>
<p>Позволяет разбивать форму на несколько столбцов. Используйте метод <code>columns()</code> для указания столбцов.</p>
<pre><code class="language-php">FormItem::columns()-&gt;columns([
    [
        FormItem::...
    ],
    [
        ...
    ],
])</code></pre>
<hr />
<p><a name="text"></a></p>
<h1>Text</h1>
<p>Создает текстовое поле.</p>
<pre><code class="language-php">FormItem::text('title', 'Title')</code></pre>
<hr />
<p><a name="textaddon"></a></p>
<h1>Textaddon</h1>
<p>Создает текстовое поле с вставкой вначале или вконце.</p>
<p>По умолчанию расположение вставки - <code>before</code>.</p>
<pre><code class="language-php">FormItem::textaddon('url', 'Url')-&gt;addon('http://my-site.com/')-&gt;placement('before')
FormItem::textaddon('price', 'Price')-&gt;addon('$')-&gt;placement('after')</code></pre>
<hr />
<p><a name="hidden"></a></p>
<h1>Hidden</h1>
<p>Создает скрытое поле. Полезно в связке с параметрами вида (<a href="Displays.html#table">подробнее</a>).</p>
<pre><code class="language-php">FormItem::hidden('field')</code></pre>
<hr />
<p><a name="checkbox"></a></p>
<h1>Checkbox</h1>
<p>Создает checkbox с заголовком.</p>
<pre><code class="language-php">FormItem::checkbox('active', 'Active')</code></pre>
<hr />
<p><a name="date"></a></p>
<h1>Date</h1>
<p>Создает поле выбора даты.</p>
<pre><code class="language-php">FormItem::date('date', 'Date')</code></pre>
<p>Формат даты по умолчанию описан в <a href="Getting_Started/Configuration.html">конфигурации</a>  в поле <code>dateFormat</code>. Вы можете переопределить его используя метод <code>format($format)</code>.</p>
<pre><code class="language-php">FormItem::date('date', 'Date')-&gt;format('d.m.Y')</code></pre>
<hr />
<p><a name="time"></a></p>
<h1>Time</h1>
<p>Создает поле выбора времени.</p>
<pre><code class="language-php">FormItem::time('time', 'Time')</code></pre>
<p>Формат даты по умолчанию описан в <a href="Getting_Started/Configuration.html">конфигурации</a>  в поле <code>timeFormat</code>. Вы можете переопределить его используя метод <code>format($format)</code>.</p>
<pre><code class="language-php">FormItem::time('time', 'Time')-&gt;format('H:i')</code></pre>
<h4>Отображение секунд</h4>
<pre><code class="language-php">FormItem::time('time', 'Time')-&gt;format('H:i:s')-&gt;seconds(true)</code></pre>
<hr />
<p><a name="timestamp"></a></p>
<h1>Timestamp</h1>
<p>Создает поле выбора даты и времени.</p>
<pre><code class="language-php">FormItem::timestamp('timestamp', 'Timestamp')</code></pre>
<p>Формат даты по умолчанию описан в <a href="Getting_Started/Configuration.html">конфигурации</a>  в поле <code>datetimeFormat</code>. Вы можете переопределить его используя метод <code>format($format)</code>.</p>
<pre><code class="language-php">FormItem::timestamp('timestamp', 'Timestamp')-&gt;format('d.m.Y H:i')</code></pre>
<h4>Отображение секунд</h4>
<pre><code class="language-php">FormItem::timestamp('timestamp', 'Timestamp')-&gt;format('d.m.Y H:i:s')-&gt;seconds(true)</code></pre>
<hr />
<p><a name="file"></a></p>
<h1>File</h1>
<p>Создает поле загрузки файла. Файл будет загружен в директорию <code>imagesUploadDirectory</code> из <a href="Getting_Started/Configuration.html">конфигурации</a>. Если вам необходимо другое расположение файла - перемещайте его вручную в вашей модели.</p>
<pre><code class="language-php">FormItem::file('file', 'File')</code></pre>
<hr />
<p><a name="image"></a></p>
<h1>Image</h1>
<p>Создает поле загрузки изображения с предпросмотром. Изображение будет загружено в директорию <code>imagesUploadDirectory</code> из <a href="Getting_Started/Configuration.html">конфигурации</a>. Если вам необходимо другое расположение файла - перемещайте его вручную в вашей модели.</p>
<pre><code class="language-php">FormItem::image('photo', 'Photo')</code></pre>
<hr />
<p><a name="images"></a></p>
<h1>Images</h1>
<p>Создает поле загрузки нескольких изображений с предпросмотром. Изображения будут загружены в директорию <code>imagesUploadDirectory</code> из <a href="Getting_Started/Configuration.html">конфигурации</a>. Если вам необходимо другое расположение файла - перемещайте его вручную в вашей модели.</p>
<p>Ваша модель должна реализовывать <a href="http://laravel.com/docs/5.0/eloquent#accessors-and-mutators">field accessors</a> для данного поля и возвращать массив урлов изображений и сохранять массив.</p>
<pre><code class="language-php">FormItem::images('photos', 'Photos')</code></pre>
<p>Самый простой способ загружать и сохранять изображения - поле типа <code>text</code> с аксессором:</p>
<pre><code class="language-php">public function getPhotosAttribute($value)
{
    return preg_split('/,/', $value, -1, PREG_SPLIT_NO_EMPTY);
}

public function setPhotosAttribute($photos)
{
    $this-&gt;attributes['photos'] = implode(',', $photos);
}</code></pre>
<hr />
<p><a name="select"></a></p>
<h1>Select</h1>
<p>Создает поле выбора.</p>
<pre><code class="language-php">FormItem::select('category_id', 'Category')</code></pre>
<h3>Предоставление данных</h3>
<p>Массивом:</p>
<pre><code class="language-php">-&gt;options([1 =&gt; 'First', 2 =&gt; 'Second', 3 =&gt; 'Third])</code></pre>
<p>При помощи enum (значения массива используются в качестве ключей):</p>
<pre><code class="language-php">-&gt;enum(['First', 'Second', 'Third])</code></pre>
<p>При помощи модели:</p>
<pre><code class="language-php">-&gt;model('App\MyModel')-&gt;display('title')</code></pre>
<h3>Обнуляемое поле</h3>
<p>Вы можете пометить элемент как обнуляемый:</p>
<pre><code class="language-php">…-&gt;nullable()</code></pre>
<hr />
<p><a name="multiselect"></a></p>
<h1>Multiselect</h1>
<p>Создает поле выбора нескольких записей.</p>
<pre><code class="language-php">FormItem::multiselect('categories', 'Categories')</code></pre>
<h3>Предоставление данных</h3>
<p>Массивом:</p>
<pre><code class="language-php">-&gt;options([1 =&gt; 'First', 2 =&gt; 'Second', 3 =&gt; 'Third])</code></pre>
<p>При помощи enum (значения массива используются в качестве ключей):</p>
<pre><code class="language-php">-&gt;enum(['First', 'Second', 'Third])</code></pre>
<p>При помощи модели:</p>
<pre><code class="language-php">-&gt;model('App\MyModel')-&gt;display('title')</code></pre>
<h3>Сохранение данных</h3>
<p>Создайте новый метод мутатора в вашей модели. Пример:</p>
<pre><code class="language-php">public function setCategoriesAttribute($categories)
{
    $this-&gt;categories()-&gt;detach();
    if ( ! $categories) return;
    if ( ! $this-&gt;exists) $this-&gt;save();

    $this-&gt;categories()-&gt;attach($categories);
}</code></pre>
<p>Метод <code>categories()</code> определяет связь <code>belongs-to-many</code> в данном случае.</p>
<hr />
<p><a name="radio"></a></p>
<h1>Radio</h1>
<p>Создает поле radio.</p>
<pre><code class="language-php">FormItem::radio('category_id', 'Category')</code></pre>
<h3>Предоставление данных</h3>
<p>Массивом:</p>
<pre><code class="language-php">-&gt;options([1 =&gt; 'First', 2 =&gt; 'Second', 3 =&gt; 'Third])</code></pre>
<p>При помощи enum (значения массива используются в качестве ключей):</p>
<pre><code class="language-php">-&gt;enum(['First', 'Second', 'Third])</code></pre>
<p>При помощи модели:</p>
<pre><code class="language-php">-&gt;model('App\MyModel')-&gt;display('title')</code></pre>
<h3>Обнуляемое поле</h3>
<p>Вы можете пометить элемент как обнуляемый:</p>
<pre><code class="language-php">…-&gt;nullable()</code></pre>
<hr />
<p><a name="textarea"></a></p>
<h1>Textarea</h1>
<p>Создает поле textarea.</p>
<pre><code class="language-php">FormItem::textarea('text', 'Text')</code></pre>
<hr />
<p><a name="ckeditor"></a></p>
<h1>CKEditor</h1>
<p>Создает поле ckeditor.</p>
<pre><code class="language-php">FormItem::ckeditor('text', 'Text')</code></pre>
<hr />
<p><a name="custom"></a></p>
<h1>Custom</h1>
<p>Создает произвольный элемент формы. Вы должны указать метод отображения (<code>display()</code>) и метод сохранения (<code>callback()</code>).</p>
<pre><code class="language-php">FormItem::custom()-&gt;display(function ($instance)
{
    return view('my-form-item', ['instance' =&gt; $instance]);
})-&gt;callback(function ($instance)
{
    $instance-&gt;myField = 12;
})</code></pre>
<hr />
<p><a name="view"></a></p>
<h1>View</h1>
<p>Вставляет ваш произвольный view. Вы можете выводить там что вам угодно и вставлять скрипты. В ваш view будет передана переменная <code>$instance</code>.</p>
<pre><code class="language-php">FormItem::view('admin.article.view')</code></pre>                        </article>
                    </div>
                </div>
            </div>
        </div>
    
        

    <!-- jQuery -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined')
                document.write(unescape("%3Cscript src='../js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
    
    <!-- hightlight.js -->
    <script src="../js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <!-- Front end file editor -->
        <script src="../js/custom.js"></script>
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</body>
</html>

